<!DOCTYPE html>
<html>

<head>
    <title>Testing</title>
    <script src="jquery-3.4.1.js"></script>
</head>

<body>
    <button onclick="fetchData()">fetch</button>
    <button onclick="getLineBreaks()">alert</button>
    <button onclick="jqueryTest()">clear</button>
    <div id="divi" style="height: 50vh; width: 50%; background-color: grey; float: left;"></div>
    <textarea id="divi2" style="height: 50vh; width: 40%; border: 1px solid black;
    float: left; overflow: scroll; font-size: 17px;"></textarea>

    <script>

        const div = document.querySelector("#divi");
        const div2 = document.querySelector("#divi2");
        
        function findBodyWord(htmlContent) {

            let first = htmlContent.search("<body>");
            let last = htmlContent.search("</body>");

            console.log("first: " + first + " | last: " + last);
        }

        function getLineBreaks() {
            let enteredText = div2.value;

            let numberOfLineBreaks = (enteredText.match(/\n/g) || []).length;
            let characterCount = enteredText.length + numberOfLineBreaks;

            alert('Number of breaks:  ' + numberOfLineBreaks);
        }

        function jqueryTest() {
            $('#divi2:contains("<body>")').html().replace('<body>', '<body><div id="mainContainer">');
        }

        function fetchData() {
            fetch('http://localhost/wp2/')
                .then(function (response) {
                    return response.text()
                })
                .then(function (html) {
                    let parser = new DOMParser();

                    let doc = parser.parseFromString(html, "text/html");

                    let docArticle = doc.querySelector('article').innerHTML;

                    console.log("HTML", html);
                    console.log("--------------------------------------------------");
                    div.innerHTML = html; //divin sisään wp content

                    let lineBreaksToElements = html.replace(/(\S+\s*){1,2}/g, "$&\n");
                    console.log("LI ", lineBreaksToElements);
                    div2.textContent = lineBreaksToElements;
                    findBodyWord(html);
                })
                .catch(function (e) {
                    console.log(e);
                });
        }
    </script>

</body>

</html>